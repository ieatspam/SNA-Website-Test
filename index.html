<!DOCTYPE HTML>
<html>
<head>
	<title>Social Network Explorer for Kids</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	<script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body class="homepage is-preload">
<div id="page-wrapper">

	<!-- Header -->
	<div id="header">
		<div class="inner">
			<header>
				<h1><a href="index.html" id="logo">Social Network Explorer</a></h1>
				<hr />
				<p>Learn how friendships, connections, and communities work online and in real life!</p>
			</header>
			<footer>
				<a href="#banner" class="button circled scrolly">Start Learning</a>
			</footer>
		</div>
		<nav id="nav">
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="#features">Key Concepts</a></li>
				<li><a href="#activities">Activities</a></li>

				<li><a href="quiz.html">Quiz</a></li>				
				<li><a href="#footer">Contact</a></li>
			</ul>
		</nav>
	</div>

	<!-- Banner -->
	<section id="banner">
		<header>
			<h2>Welcome to <strong>Social Network Explorer</strong>!</h2>
			<p>Discover how connections shape our world — made fun and easy for curious kids!</p>
		</header>
	</section>

	<!-- Carousel -->
	<section class="carousel">
		<div class="reel">

			<article>
				<a href="#" class="image featured"><img src="images/network_graph.jpg" alt="" /></a>
				<header>
					<h3><a href="#">What is a Social Network?</a></h3>
				</header>
				<p>Explore how people are connected through family, friends, and interests.</p>
			</article>

			<article>
				<a href="#" class="image featured"><img src="images/centrality.jpg" alt="" /></a>
				<header>
					<h3><a href="#">Who's the Most Connected?</a></h3>
				</header>
				<p>Learn about centrality and how some people are more connected than others.</p>
			</article>

			<article>
				<a href="#" class="image featured"><img src="images/community.jpg" alt="" /></a>
				<header>
					<h3><a href="#">Communities in Networks</a></h3>
				</header>
				<p>Find out how groups form and how they stay connected!</p>
			</article>

			<article>
				<a href="#" class="image featured"><img src="images/influence.jpg" alt="" /></a>
				<header>
					<h3><a href="#">Influence and Spread</a></h3>
				</header>
				<p>See how ideas, trends, and information spread through a network.</p>
			</article>

			<article>
				<a href="#" class="image featured"><img src="images/bridge.jpg" alt="" /></a>
				<header>
					<h3><a href="#">Bridge Nodes</a></h3>
				</header>
				<p>Learn how some people connect separate groups and keep networks together.</p>
			</article>

			<article>
				<a href="#" class="image featured"><img src="images/network_roles.jpg" alt="" /></a>
				<header>
					<h3><a href="#">Different Roles in a Network</a></h3>
				</header>
				<p>Not everyone in a network has the same role — some lead, others connect!</p>
			</article>

		</div>
	</section>

	<!-- Features -->
	<div class="wrapper style1">
		<section id="features" class="container special">
			<header>
				<h2>Learn Key SNA Concepts</h2>
				<p>These are the building blocks of understanding how networks work!</p>
			</header>
			<div class="row">
				<article class="col-4 col-12-mobile special">
					<a href="#" class="image featured"><img src="images/nodes_edges.jpg" alt="" /></a>
					<header>
						<h3><a href="#">Nodes and Edges</a></h3>
					</header>
					<p>Every person or thing is a "node", and their connections are "edges". It all starts here!</p>
				</article>
				<article class="col-4 col-12-mobile special">
					<a href="#" class="image featured"><img src="images/degree.jpg" alt="" /></a>
					<header>
						<h3><a href="#">Degree</a></h3>
					</header>
					<p>How many people are you connected to? That number is your degree!</p>
				</article>
				<article class="col-4 col-12-mobile special">
					<a href="#" class="image featured"><img src="images/clusters.jpg" alt="" /></a>
					<header>
						<h3><a href="#">Clusters</a></h3>
					</header>
					<p>Discover how tight groups of friends form in bigger networks.</p>
				</article>
			</div>
		</section>
	</div>

	<!-- Activities -->
	<div class="wrapper style2">
		<section id="activities" class="container special">
			<header>
				<h2>Hands-On Activities</h2>
				<p>Try these fun exercises to apply what you’ve learned!</p>
			</header>
			<ul>
				<li><strong>Build Your Network:</strong> Use string and paper cutouts to map out your classroom's network. Who are your friends? Who talks to whom?</li>
				<li><strong>Drag & Drop Game:</strong> Match SNA terms (like "node" and "edge") to pictures or emojis representing them.</li>
				<li><strong>Centrality Chase:</strong> Pretend you're the most connected node—how fast can you pass a message through the network?</li>
			</ul>
		</section>
	</div>

	<!-- Marvel Character Social Network interactive -->
	 <div class = "wrapper style2">
		<div class="container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 50vh;">
			<header style="margin-top: 30px;">
				<h2>Marvel Character Social Network</h2>
				<p>Explore the connections between your favorite Marvel characters!</p>
			</header>

			<div class="controls" style="margin-bottom: 20px;">
				<button onclick="restartSimulation()">Restart Simulation</button>
				<button onclick="resetPositions()">Reset Positions</button>
			</div>
			<div id="network-container" style="display: flex; justify-content: center; align-items: center;"></div>
		</div>

		<div class="viewBox" style="max-width: 100%; height: auto; margin: 0 auto;">
			<script>
				// Global variables
				let simulation;
				let svg;
				let width = 928;
				let height = 600;
				
				// Create tooltip
				const tooltip = d3.select("body").append("div")
					.attr("class", "tooltip");

				// Load and render the network
				async function loadAndRenderNetwork() {
					try {
						// Load the JSON data
						const data = await d3.json("JSON_graph_marvel_20250715_115432.json");
						
						// Create the network visualization
						createNetworkVisualization(data);
						
					} catch (error) {
						console.error("Error loading data:", error);
						d3.select("#network-container")
							.append("div")
							.style("text-align", "center")
							.style("color", "red")
							.text("Error loading network data. Please check if the JSON file exists.");
					}
				}

				function createNetworkVisualization(data) {
					// Clear any existing content
					d3.select("#network-container").selectAll("*").remove();
					
					// Specify the color scale
					const color = d3.scaleOrdinal(d3.schemeCategory10);

					// The force simulation mutates links and nodes, so create a copy
					const links = data.links.map(d => ({...d}));
					const nodes = data.nodes.map(d => ({...d}));

					// Create a simulation with several forces
					simulation = d3.forceSimulation(nodes)
						.force("link", d3.forceLink(links).id(d => d.id).distance(80))
						.force("charge", d3.forceManyBody().strength(-300))
						.force("center", d3.forceCenter(width / 2, height / 2))
						.force("collision", d3.forceCollide().radius(20))
						.on("tick", ticked);

				// Create the SVG container
				svg = d3.select("#network-container")
					.append("svg")
					.attr("width", width)
					.attr("height", height)
					.attr("viewBox", [0, 0, width, height])
					.style("max-width", "100%")
					.style("height", "auto")
					.style("border", "2px solid #ccc")
					.style("border-radius", "8px");					// Add zoom behavior
					const zoom = d3.zoom()
						.scaleExtent([0.1, 4])
						.on("zoom", function(event) {
							container.attr("transform", event.transform);
						});
					
					svg.call(zoom);

					// Create a container for all elements
					const container = svg.append("g");

					// Add a line for each link
					const link = container.append("g")
						.attr("stroke", "#999")
						.attr("stroke-opacity", 0.6)
						.selectAll("line")
						.data(links)
						.join("line")
						.attr("stroke-width", d => Math.sqrt(d.value || 1) * 2);

					// Add a circle for each node
					const node = container.append("g")
						.attr("stroke", "#fff")
						.attr("stroke-width", 2)
						.selectAll("circle")
						.data(nodes)
						.join("circle")
						.attr("r", 8)
						.attr("fill", d => color(d.id.length % 10)) // Use character name length for color variety
						.style("cursor", "pointer");

					// Add labels for nodes
					const labels = container.append("g")
						.selectAll("text")
						.data(nodes)
						.join("text")
						.text(d => d.id)
						.style("font-size", "10px")
						.style("font-family", "Arial, sans-serif")
						.style("fill", "#333")
						.style("text-anchor", "middle")
						.style("pointer-events", "none");

					// Add mouse events for interactivity
					node
						.on("mouseover", function(event, d) {
							tooltip.transition()
								.duration(200)
								.style("opacity", .9);
							tooltip.html(`<strong>${d.id}</strong><br/>Connections: ${links.filter(l => l.source.id === d.id || l.target.id === d.id).length}`)
								.style("left", (event.pageX + 10) + "px")
								.style("top", (event.pageY - 28) + "px");
							
							// Highlight connected nodes
							const connectedNodes = new Set();
							links.forEach(l => {
								if (l.source.id === d.id || l.target.id === d.id) {
									connectedNodes.add(l.source.id);
									connectedNodes.add(l.target.id);
								}
							});
							
							node.style("opacity", n => connectedNodes.has(n.id) ? 1 : 0.3);
							link.style("opacity", l => l.source.id === d.id || l.target.id === d.id ? 1 : 0.1);
							labels.style("opacity", n => connectedNodes.has(n.id) ? 1 : 0.3);
						})
						.on("mouseout", function() {
							tooltip.transition()
								.duration(500)
								.style("opacity", 0);
							
							// Reset opacity
							node.style("opacity", 1);
							link.style("opacity", 0.6);
							labels.style("opacity", 1);
						});

					// Add drag behavior
					node.call(d3.drag()
						.on("start", dragstarted)
						.on("drag", dragged)
						.on("end", dragended));

					// Set the position attributes of links and nodes each time the simulation ticks
					function ticked() {
						link
							.attr("x1", d => d.source.x)
							.attr("y1", d => d.source.y)
							.attr("x2", d => d.target.x)
							.attr("y2", d => d.target.y);

						node
							.attr("cx", d => d.x)
							.attr("cy", d => d.y);
						
						labels
							.attr("x", d => d.x)
							.attr("y", d => d.y + 15);
					}

					// Drag functions
					function dragstarted(event) {
						if (!event.active) simulation.alphaTarget(0.3).restart();
						event.subject.fx = event.subject.x;
						event.subject.fy = event.subject.y;
					}

					function dragged(event) {
						event.subject.fx = event.x;
						event.subject.fy = event.y;
					}

					function dragended(event) {
						if (!event.active) simulation.alphaTarget(0);
						event.subject.fx = null;
						event.subject.fy = null;
					}
				}

				// Control functions
				function restartSimulation() {
					if (simulation) {
						simulation.alpha(1).restart();
					}
				}

				function resetPositions() {
					if (simulation) {
						simulation.nodes().forEach(node => {
							node.fx = null;
							node.fy = null;
						});
						simulation.alpha(1).restart();
					}
				}

				// Initialize the visualization when the page loads
				window.addEventListener('load', loadAndRenderNetwork);
			</script>
		
		</div>
	</div>
	<!-- Footer -->
	<div id="footer">
		<div class="container">
			<div class="row">
				<section class="col-12">
					<header>
						<h2>Have Questions or Ideas?</h2>
					</header>
					<p>We'd love to hear from you! Send us a message or share your own network stories.</p>
				</section>
			</div>
			<hr />
			<div class="row">
				<div class="col-12">
					<section class="contact">
						<ul class="icons">
							<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
						</ul>
					</section>
					<div class="copyright">
						<ul class="menu">
							<li>&copy; Social Network Explorer. All rights reserved.</li>
							<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
</body>
</html>
